(this["webpackJsonpdnd-character-creator"]=this["webpackJsonpdnd-character-creator"]||[]).push([[0],{12:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(11),c=a.n(l),r=a(1),i=a(2),o=a(4),u=a(3),p=a(6);function m(e){for(var t in e)return e.hasOwnProperty(t),!0;return!1}function f(e,t,a,s,l,c,r){return n.a.createElement("div",{className:"col-12 info"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 characterTitle"},n.a.createElement("h3",null,e," ",t)),n.a.createElement("div",{className:"col-6"},n.a.createElement("strong",null,"Ability bonuses"),n.a.createElement("br",null),n.a.createElement("ul",null,s),n.a.createElement("strong",null,"Ability Scores: "),n.a.createElement("div",{className:"row"},l)),n.a.createElement("div",{className:"col-6"},n.a.createElement("strong",null,"Hit die: "),a,n.a.createElement("br",null),n.a.createElement("strong",null,"Saving throws"),n.a.createElement("br",null),n.a.createElement("ul",null,c),n.a.createElement("strong",null,"Proficiencies"),n.a.createElement("ul",null,r))))}var d=function(e){var t=e.raceSelected,a=e.classSelected,s=e.abilityScoresInfo,l=e.proficiencies,c=e.spellsChosen,r=e.selectedSpell,i=e.setSelectedSpell,o="",u="",p="",d=[],h=[],v=[],S=[],b=[],g=Object.keys(e.abilityScoresSelected),y=g.map((function(t){return console.log("HERE"),n.a.createElement("div",{className:"col text-center abilityScores",key:t},n.a.createElement("h6",null,t),n.a.createElement("p",null,e.abilityScoresSelected[t]))}));switch(m(t)&&(o=t.name,d=t.ability_bonuses.map((function(e,t){for(var a=0;a<s.length;a++)if(s[a].name===e.name)return n.a.createElement("li",{key:t},s[a].full_name,": +",e.bonus);return n.a.createElement("li",{key:t},"Ability: +BONUS")})),b=t.ability_bonuses.map((function(e){return e})),y=g.map((function(t){for(var a=0;a<b.length;a++)if(b[a].name.toLowerCase()===t)return n.a.createElement("div",{className:"col text-center abilityScores",key:t},n.a.createElement("h6",null,t),n.a.createElement("p",null,e.abilityScoresSelected[t],"+",b[a].bonus));return n.a.createElement("div",{className:"col text-center abilityScores",key:t},n.a.createElement("h6",null,t),n.a.createElement("p",null,e.abilityScoresSelected[t]))}))),m(a)&&(u=a.name,p=e.classSelected.hit_die,h=e.classSelected.saving_throws.map((function(e,t){for(var a=0;a<s.length;a++)if(s[a].name===e.name)return n.a.createElement("li",{key:e.name.toLowerCase()},s[a].full_name);return n.a.createElement("li",{key:t},"Ability: +BONUS")})),v=l.map((function(e){return n.a.createElement("li",{key:e.name},e.name)})),c.length>0&&(S=c.map((function(e){return e===r?n.a.createElement("li",{key:e.name},e.name):n.a.createElement("li",{onClick:function(){return i(e)},key:e.name},e.name)})))),e.navigation){case"Ability-Scores":case"Proficiencies":return f(o,u,p,d,y,h,v);case"Spells":var E;return m(a)?(void 0===r.name||(E=n.a.createElement("p",null,r.desc)),n.a.createElement("div",{className:"col-12 info"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h3",null,e.raceSelected.name," ",e.classSelected.name)),n.a.createElement("div",{className:"col-3"},n.a.createElement("p",null,"Spells"),n.a.createElement("ul",null,S)),n.a.createElement("div",{className:"col-9"},n.a.createElement("h4",null,r.name," ",r.level),E)))):n.a.createElement("div",{className:"col-12 info"},n.a.createElement("p",{className:"text-center"},"..Choose your class to select spells "));default:return f(o,u,p,d,y,h,v)}},h=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){return e.target.select()},s.handleChange=function(e){for(var t=e.target,a=t.name,n=t.value,l=s.state.scores,c=JSON.parse(JSON.stringify(l)),r=0;r<c.length;r++)c[r].name===a&&(c[r].value=""===n?0:parseInt(n,10));s.setState({scores:c})},s.submitForm=function(){s.props.handleSubmit(s.state.scores)},s.initialState={scores:[{name:"cha",value:0},{name:"con",value:0},{name:"dex",value:0},{name:"int",value:0},{name:"str",value:0},{name:"wis",value:0}]},s.state=s.initialState,s}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.scores;return n.a.createElement("form",{className:"col-12"},n.a.createElement("label",{className:"col-3",htmlFor:"cha"},"Charisma"),n.a.createElement("input",{className:"col-1",type:"number",name:"cha",id:"cha",value:e[0].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:"col-3",htmlFor:"con"},"Constitution"),n.a.createElement("input",{className:"col-1",type:"number",name:"con",id:"con",value:e[1].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:"col-3",htmlFor:"dex"},"Dexterity"),n.a.createElement("input",{className:"col-1",type:"number",name:"dex",id:"dex",value:e[2].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:"col-3",htmlFor:"int"},"Intelligence"),n.a.createElement("input",{className:"col-1",type:"number",name:"int",id:"int",value:e[3].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:"col-3",htmlFor:"str"},"Strength"),n.a.createElement("input",{className:"col-1",type:"number",name:"str",id:"str",value:e[4].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:"col-3",htmlFor:"wis"},"Wisdom"),n.a.createElement("input",{className:"col-1",type:"number",name:"wis",id:"wis",value:e[5].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))}}]),a}(s.Component),v=a(7),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).addProficiency=function(e,t){for(var a=s.props.classSelected,n=s.state.proficienciesChosen,l=a.proficiency_choices,c=0;c<l[t].from.length;c++){if(!(n[t].length<l[t].choose)){s.props.updateAlertMessage("You have selected the maximum number of proficiencies from this category");break}if(l[t].from[c].name===e&&"break"===function(){var a=l[t].from.filter((function(t){return t.name===e})),c=[].concat(Object(v.a)(s.state.proficiencies),[a[0]]),r=n;return r[t]=[].concat(Object(v.a)(r[t]),[a[0]]),s.setState((function(e){return{proficiencies:[].concat(Object(v.a)(e.proficiencies),[a[0]]),proficienciesChosen:r}}),s.props.setProficiencies(c,r)),"break"}())break}},s.removeProficiency=function(e,t){for(var a=s.state.proficiencies,n=s.state.proficienciesChosen,l=0;l<n.length;l++)for(var c=0;c<n[l].length;c++)if(n[l][c].name===e){var r=a.filter((function(t){return t.name!==e})),i=n;i[t]=n[t].filter((function(t){return t.name!==e})),s.setState({proficiencies:Object(v.a)(r),proficienciesChosen:i},s.props.setProficiencies(r,i));break}},console.log("ClassProficiencies: ",e),s.state={proficiencies:[],proficienciesChosen:[]},s.setProficiencies=s.setProficiencies.bind(Object(p.a)(s)),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){m(this.props.classSelected)&&this.setProficiencies()}},{key:"setProficiencies",value:function(){var e=this.props.classSelected,t=this.props.proficienciesChosen;console.log("SET PROFICIENCIES ",t);for(var a=e.proficiencies,s=[],n=e.proficiency_choices.length,l=0;l<n;l++){if(t.length>0){s=t,console.log("DID IT");break}s[l]=[]}this.setState({proficiencies:a,proficienciesChosen:s})}},{key:"classProficienciesToChooseFrom",value:function(){for(var e=this,t=this.props.classSelected,a=this.state.proficiencies,s=this.state.proficienciesChosen,l=[],c=function(){var c=r,i=t.proficiency_choices[r].from.map((function(t){for(var l=0;l<a.length;l++)for(var r=0;r<s[c].length;r++)if(t.name===s[c][r].name)return n.a.createElement("button",{className:"btn-md btn-secondary",onClick:function(){return e.removeProficiency(t.name,c)},key:t.name},t.name);return n.a.createElement("button",{className:"btn-md btn-primary",onClick:function(){return e.addProficiency(t.name,c)},key:t.name},t.name)}));l.push(n.a.createElement("div",{className:"col-12 chooseProficiency",key:"catetory"+c},i))},r=0;r<t.proficiency_choices.length;r++)c();return l}},{key:"render",value:function(){return n.a.createElement("div",{className:"row"},this.classProficienciesToChooseFrom())}}]),a}(s.Component),b=a(5),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).spellSlots=function(){var e=s.props.classSelected,t=s.props.levelData,a=[];if("Ranger"===e.name||"Paladin"===e.name){for(var n=0;n<t.length;n++)if(t[n].class.name===e.name){a[0]=0;for(var l=1;l<6;l++)0!==t[n].spellcasting["spell_slots_level_"+l]&&(a[l]=t[n].spellcasting["spell_slots_level_"+l],console.log("SLOTS avail",a[l]))}}else for(var c=0;c<t.length;c++)if(t[c].class.name===e.name){a[0]=t[c].spellcasting.cantrips_known;for(var r=1;r<10;r++)0!==t[c].spellcasting["spell_slots_level_"+r]&&(a[r]=t[c].spellcasting["spell_slots_level_"+r])}console.log("slots available ",a),s.setState({spellSlots:a},s.props.updateSpellSlots(a))},s.updateSpells=function(e){var t=s.props.spellsChosen,a=[].concat(Object(v.a)(t),[e]);s.setState({spellsChosen:a}),s.props.setSpells(a)},s.spellsChosenByLevel=function(){for(var e=s.props.spellsChosen,t=0,a=0,n=[],l=0;l<e.length;l++)0===e[l].level?t++:1===e[l].level&&a++;return n.push(t),n.push(a),n},s.spellSource=function(e,t){var a,n,l=s.props.classSelected,c=s.props.spellsChosen,r=s.state.spellSlots,i=0,o=0;switch(l.name){case"Barbarian":break;case"Bard":if(0===c.length){s.updateSpells(e);break}var u=Object(b.a)(r,2);a=u[0],n=u[1];var p=s.spellsChosenByLevel(),m=Object(b.a)(p,2);if(i=m[0],o=m[1],i<a&&0===e.level){s.updateSpells(e);break}if(o<n&&1===e.level){s.updateSpells(e);break}break;case"Cleric":if(0===c.length){s.updateSpells(e);break}var f=Object(b.a)(r,2);a=f[0],n=f[1];var d=s.spellsChosenByLevel(),h=Object(b.a)(d,2);if(i=h[0],o=h[1],i<a&&0===e.level){s.updateSpells(e);break}o<n&&1===e.level&&s.updateSpells(e);break;case"Druid":if(0===c.length){s.updateSpells(e);break}var v=Object(b.a)(r,2);a=v[0],n=v[1];var S=s.spellsChosenByLevel(),g=Object(b.a)(S,2);if(i=g[0],o=g[1],i<a&&0===e.level){s.updateSpells(e);break}o<n&&1===e.level&&s.updateSpells(e);break;case"Fighter":case"Monk":break;case"Paladin":if(0===c.length){s.updateSpells(e);break}var y=Object(b.a)(r,2);a=y[0],n=y[1];var E=s.spellsChosenByLevel(),k=Object(b.a)(E,2);if(i=k[0],o=k[1],i<a&&0===e.level){s.updateSpells(e);break}o<n&&1===e.level&&s.updateSpells(e);break;case"Ranger":if(0===c.length){s.updateSpells(e);break}var C=Object(b.a)(r,2);a=C[0],n=C[1];var N=s.spellsChosenByLevel(),O=Object(b.a)(N,2);if(i=O[0],o=O[1],i<a&&0===e.level){s.updateSpells(e);break}o<n&&1===e.level&&s.updateSpells(e);break;case"Rogue":break;case"Sorcerer":if(0===c.length){s.updateSpells(e);break}var j=s.spellsChosenByLevel(),w=Object(b.a)(j,2);if(i=w[0],o=w[1],i<4&&0===e.level){s.updateSpells(e);break}o<2&&1===e.level&&s.updateSpells(e);break;case"Warlock":if(0===c.length){s.updateSpells(e);break}var I=s.spellsChosenByLevel(),x=Object(b.a)(I,2);if(i=x[0],o=x[1],i<2&&0===e.level){s.updateSpells(e);break}o<2&&1===e.level&&s.updateSpells(e);break;case"Wizard":if(console.log("Wizard Spell source. "),0===c.length){s.updateSpells(e);break}var P=s.spellsChosenByLevel(),F=Object(b.a)(P,2);if(i=F[0],o=F[1],i<3&&0===e.level){s.updateSpells(e);break}if(o<6&&1===e.level){s.updateSpells(e);break}var B="You cannot add "+e.name+" to your spell book.";s.props.updateAlertMessage(B)}},s.setClassSpells=function(e){var t=s.props.classSelected,a=s.props.spellsInfo,n=[];switch(console.log("setClassSpells() fired"),e){case 1:for(var l=0;l<a.length;l++)for(var c=0;c<a[l].classes.length;c++)t.name===a[l].classes[c].name&&a[l].level<=e&&n.push(a[l]);s.setState({classSpells:n}),console.log("state classSpells updated",n);break;default:alert("level of character is invalid in spells creation. ")}},s.addSpell=function(e){console.log("Add Spell: ",e.name);var t=s.props.setSelectedSpell;s.spellSource(e,1),t(e)},s.removeSpell=function(e){for(var t=s.props.spellsChosen,a=s.props.setSelectedSpell,n=[],l=0;l<t.length;l++)t[l].name!==e.name&&n.push(t[l]);console.log("Spells that wont be removed, ",n),s.setState({spellsChosen:n}),s.props.setSpells(n),a({})},s.displaySpells=function(){for(var e=s.props.classSelected,t=s.state.classSpells,a=s.state.spellSlots,l=s.props.spellsChosen,c=[],r=function(){var e=i,a=t.filter((function(t){return t.level===e?t:null}));console.log("Slots Spells",a),c[e]=a.map((function(e){var t="btn-md spell-btn ";if(void 0!==e.damage&&void 0!==e.damage.damage_type&&(t+=e.damage.damage_type.index),0===l.length)return n.a.createElement("button",{className:t,onClick:function(){return s.addSpell(e)},key:e.name+e.level},e.name);for(var a=0;a<l.length;a++){if(l[a].name===e.name)return n.a.createElement("button",{className:t,onClick:function(){return s.removeSpell(e)},key:e.name+e.level},e.name)}return n.a.createElement("button",{className:t,onClick:function(){return s.addSpell(e)},key:e.name+e.level},e.name)}))},i=0;i<a.length;i++)r();for(var o=[],u=0;u<c.length;u++)if(0===u)"Paladin"===e.name||"Ranger"===e.name?o[u]=n.a.createElement("div",{className:"row",key:"cantrips"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h6",null,"You have no spells to choose from at level 1"))):o[u]=n.a.createElement("div",{className:"row",key:"cantrips"},n.a.createElement("div",{className:"col-12"},n.a.createElement("h6",null,"Cantrips"),c[u]));else{o[u]=n.a.createElement("div",{className:"row",key:"spellLevel"+u},n.a.createElement("div",{className:"col-12"},n.a.createElement("h6",null,"Spell Level ",u),c[u]))}return o},s.state={classSpells:[],spellSlots:[],spellsChosen:[]},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("ClassSpells mounted:",this.props),this.spellSlots(),this.setClassSpells(1)}},{key:"componentDidUpdate",value:function(){console.log("ClassSpells updated: ",this.props)}},{key:"render",value:function(){return n.a.createElement("div",{className:"col-12"},this.displaySpells())}}]),a}(s.Component),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={raceSelected:{}},s.buttons=s.buttons.bind(Object(p.a)(s)),s.selectRace=s.selectRace.bind(Object(p.a)(s)),console.log("Race Constructor",e),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){m(this.props.raceSelected)&&this.setState({raceSelected:this.props.raceSelected})}},{key:"selectRace",value:function(e){for(var t=this,a=this.props.racesInfo,s=this.props.setRace,n=function(n){if(a[n].index===e){var l=a.filter((function(e){return e.name===a[n].name}));return t.setState({raceSelected:l[0]}),s(l[0]),"break"}},l=0;l<a.length;l++){if("break"===n(l))break}}},{key:"buttons",value:function(){var e=this,t=this.props.races,a=this.state.raceSelected;return t.results.map((function(t){return m(a)&&a.index===t.index?n.a.createElement("button",{className:"selectionButtons buttonSelected col-4 {race.index}","aria-disabled":"true",key:t.index},t.name):n.a.createElement("button",{onClick:function(){return e.selectRace(t.index)},className:"selectionButtons col-4",key:t.index},t.name)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"col-12"},this.buttons())}}]),a}(s.Component),E=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={classSelected:{}},s.buttons=s.buttons.bind(Object(p.a)(s)),s.selectClass=s.selectClass.bind(Object(p.a)(s)),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){m(this.props.classSelected)&&this.setState({classSelected:this.props.classSelected})}},{key:"selectClass",value:function(e){for(var t=this,a=this.props.classesInfo,s=this.props.setClass,n=function(n){if(a[n].index===e){var l=a.filter((function(e){return e.name===a[n].name}));return t.setState({classSelected:l[0]}),s(l[0]),"break"}},l=0;l<a.length;l++){if("break"===n(l))break}}},{key:"buttons",value:function(){var e=this,t=this.props.classes,a=this.state.classSelected;return t.results.map((function(t){return m(a)&&a.index===t.index?n.a.createElement("button",{className:"selectionButtons buttonSelected col-4",key:t.index},t.name):n.a.createElement("button",{onClick:function(){return e.selectClass(t.index)},className:"selectionButtons col-4",key:t.index},t.name)}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center selection"},this.buttons()))}}]),a}(s.Component),k=function(e){console.log("Selection() props",e);var t=e.abilityScores,a=e.classSelected,s=e.navigation,l=e.getScore;switch(s){case"Races":return n.a.createElement(y,e);case"Classes":return n.a.createElement("div",{className:"col-12 text-center selection"},n.a.createElement(E,e));case"Proficiencies":return m(a)?n.a.createElement("div",{className:"col-12 text-center selection"},n.a.createElement(S,e)):n.a.createElement("div",{className:"col-12 text-center selection"},"You must first choose a class, before you can select your proficiencies.");case"Spells":return m(a)&&void 0!==a.spellcasting?n.a.createElement("div",{className:"col-12 text-center selection"},n.a.createElement(g,e)):n.a.createElement("div",{className:"col-12 text-center selection"},a.name," is not a spell caster.");case"Ability-Scores":var c=t.results.map((function(e,t){return n.a.createElement("button",{onClick:function(){return l(e.index)},className:"col-2 abilityScoresSelection",key:t},e.name)}));return n.a.createElement("div",{className:"col-12 text-center selection"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},c),n.a.createElement(h,{handleSubmit:e.handleSubmit})));default:return n.a.createElement("div",{className:"col-12 text-center selection"},"DEFAULT: It's a broke!")}},C=function(e){var t=e.navigation,a=e.navigationCategories,s=e.navigate,l=e.classSelected,c=a.map((function(e,a){if(m(l))return t===e?n.a.createElement("button",{className:"navigationButtons buttonSelected disabled",tabIndex:"-1","aria-disabled":"true",key:a},e):n.a.createElement("button",{onClick:function(){return s(e)},className:"navigationButtons",key:a},e);if(t===e)return n.a.createElement("button",{className:"navigationButtons buttonSelected disabled",tabIndex:"-1","aria-disabled":"true",key:a},e);if("Classes"!==e||"Proficiencies"!==t&&"Spells"!==t)return n.a.createElement("button",{onClick:function(){return s(e)},className:"navigationButtons",key:a},e);switch(t){case"Proficiencies":return n.a.createElement("button",{onClick:function(){return s(e)},className:"navigationButtons shiny",key:a},e);default:return n.a.createElement("button",{onClick:function(){return s(e)},className:"navigationButtons shinyBlue",key:a},e)}}));return n.a.createElement("div",{className:"col-12 text-center navigation"},c)},N=function(e){console.log("userAlert props",e);var t=n.a.createElement("div",{className:"row",id:"alert"});return e.alertMessage.length>0&&(t=n.a.createElement("div",{className:"row",id:"alert"},n.a.createElement("div",{className:"col text-center"},e.alertMessage))),t},O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).abilityScoresSetup=function(e){for(var t=e.count,a=e.results,n={},l=0;l<t;l++){n[a[l].index]=0}s.setState({abilityScoresSelected:n})},s.updateAlertMessage=function(e){s.setState({alertMessage:e},s.fadeMessage())},s.fadeMessage=function(){var e=document.getElementById("alert");setTimeout((function(){var t=setInterval((function(){e.style.opacity||(e.style.opacity=1),e.style.opacity>0?e.style.opacity-=.01:clearInterval(t)}),10)}),1700),s.setState({alertMessage:""}),e.style.opacity=1},s.setSelectedSpell=function(e){s.setState({selectedSpell:e})},s.setSpells=function(e){s.setState({spellsChosen:e})},s.updateSpellSlots=function(e){s.setState({spellSlots:e})},s.navigate=function(e){s.setState({navigation:e})},s.getScore=function(e){for(var t=s.props.abilityScores,a=s.state.abilityScoresSelected,n=0;n<t.count;n++)if(t.results[n].index===e){a[e]=s.randomDiceRoll(6),s.setState({abilityScoresSelected:a});break}},s.randomDiceRoll=function(e){for(var t=0,a=0,s=[],n=0;n<5;n++)t=Math.floor(Math.random()*e+1),s.push(t);s.sort(),s.splice(0,2);for(var l=0;l<s.length;l++)a+=s[l];return a},s.startingProficiencies=function(e){s.setState({proficiencies:e})},s.setProficiencies=function(e,t){console.log("SET PROFICIENCIES",e),s.setState({proficiencies:e,proficienciesChosen:t})},s.updateProficiencies=function(e,t){s.setState({proficiencies:e,proficienciesChoices:t})},s.handleSubmit=function(e){for(var t=s.state.abilityScoresSelected,a=[],n=0;n<e.length;n++)e[n].value<3||e[n].value>18?a.push(e[n].name):(t[e[n].name]=parseInt(e[n].value,10),s.setState({abilityScoresSelected:t}));if(a.length>0){for(var l="Ability Scores must not be 0, you currently have 0 in: ",c=0;c<a.length;c++)c<a.length-1?l+=a[c]+", ":l+=a[c];l+=".",s.updateAlertMessage(l)}},s.state={abilityScoresSelected:{},navigationCategories:["Races","Classes","Ability-Scores","Proficiencies","Spells"],navigation:"Races",classSelected:{},raceSelected:{},proficiencies:[],proficienciesChoices:[],proficienciesChosen:[],spellsChosen:[],spellSlots:[],selectedSpell:{},alertMessage:"",updateSpellSlots:s.updateSpellSlots,updateAlertMessage:s.updateAlertMessage,setSelectedSpell:s.setSelectedSpell,setProficiencies:s.setProficiencies,startingProficiencies:s.startingProficiencies,updateProficiencies:s.updateProficiencies,setSpells:s.setSpells},s.setRace=s.setRace.bind(Object(p.a)(s)),s.setClass=s.setClass.bind(Object(p.a)(s)),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.abilityScores;this.abilityScoresSetup(e),console.log("CreateCharacter mounted")}},{key:"componentDidUpdate",value:function(){console.log("CreateCharacter updated")}},{key:"setRace",value:function(e){this.setState({raceSelected:e})}},{key:"setClass",value:function(e){this.setState({classSelected:e,spellsChosen:[],selectedSpell:{},proficiencies:e.proficiencies,proficienciesChosen:[]})}},{key:"render",value:function(){return n.a.createElement("div",{id:"creator",className:"container-fluid creation"},n.a.createElement(N,{alertMessage:this.state.alertMessage}),n.a.createElement("div",{className:"row"},n.a.createElement(d,Object.assign({},this.state,this.props))),n.a.createElement("div",{className:"row"},n.a.createElement(k,Object.assign({},this.state,this.props,{setRace:this.setRace,setClass:this.setClass,handleSubmit:this.handleSubmit,getScore:this.getScore}))),n.a.createElement("div",{className:"row"},n.a.createElement(C,Object.assign({},this.state,this.props,{navigate:this.navigate}))))}}]),a}(s.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).readyToCreate=function(){var e=s.state;for(var t in e)Object.getPrototypeOf(e[t]).constructor},s.initialState={races:{},racesInfo:[],classes:{},classesInfo:[],abilityScores:{},abilityScoresInfo:[],spells:{},spellsInfo:[],features:{},featuresInfo:[],levelData:[]},s.state=s.initialState,s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="https://www.dnd5eapi.co/api/";fetch(t+"races").then((function(e){return e.json()})).then((function(t){e.setState({races:t},e.getInfo(t,"races"))})).catch((function(e){console.log(e+" -- "+t)})),fetch(t+"classes").then((function(e){return e.json()})).then((function(t){e.setState({classes:t},e.getInfo(t,"classes"))})).catch((function(e){console.log("API Request Error: ",e)})),fetch(t+"ability-scores").then((function(e){return e.json()})).then((function(t){e.setState({abilityScores:t},e.getInfo(t,"ability-scores"))})).catch((function(e){console.log("API Request Error: ",e)})),fetch(t+"spells").then((function(e){return e.json()})).then((function(t){e.setState({spells:t},e.getInfo(t,"spells"))})).catch((function(e){console.log("API Request Error: ",e)})),fetch(t+"features").then((function(e){return e.json()})).then((function(t){e.setState({features:t},e.getInfo(t,"features"))}))}},{key:"componentDidUpdate",value:function(){}},{key:"getLevelData",value:function(e,t){for(var a=[],s=0;s<e.results.length;s++)fetch("https://www.dnd5eapi.co/api/classes/"+e.results[s].index+"/levels/"+t).then((function(e){return e.json()})).then((function(e){return a.push(e)}));this.setState({levelData:a})}},{key:"getInfo",value:function(e,t){for(var a=[],s=0;s<e.results.length;s++)fetch("https://www.dnd5eapi.co"+e.results[s].url).then((function(e){return e.json()})).then((function(e){return a.push(e)}));switch(t){case"races":this.setState({racesInfo:a});break;case"classes":this.setState({classesInfo:a},this.getLevelData(e,1));break;case"ability-scores":this.setState({abilityScoresInfo:a});break;case"spells":this.setState({spellsInfo:a});break;case"features":this.setState({featuresInfo:a})}}},{key:"render",value:function(){var e=this.state.races,t=this.state.classes,a=this.state.abilityScores,s=this.state.spells,l=this.state.spellsInfo,c=this.state.features,r=this.state.levelData;return void 0===e.results||void 0===t.results||void 0===a.results||void 0===s.results||l.length===s.count||12===r.length||void 0===c.results?n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("p",null,"...Loading API")))):n.a.createElement(O,this.state)}}]),a}(s.Component);a(17);c.a.render(n.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.1654b84a.chunk.js.map