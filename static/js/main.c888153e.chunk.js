(this["webpackJsonpdnd-character-creator"]=this["webpackJsonpdnd-character-creator"]||[]).push([[0],{12:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(11),c=a.n(l),r=a(1),i=a(2),o=a(3),u=a(6),p=a(5),m=a(4);function h(e){for(var t in e)return e.hasOwnProperty(t),!0;return!1}var f=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={raceName:null,className:null,hit_die:null,abilityScores:[],ability_bonuses:[],saving_throws:[],characterProficiencies:[],classSpells:[]},n}return Object(o.a)(a,[{key:"characterRaceInfo",value:function(){var e,t=this,a=this.props,n=a.raceSelected,l=a.classSelected,c=a.abilityScoresInfo,r=[],i=c.map((function(e){var a="abilityScore";if(h(l))for(var n=0;n<l.saving_throws.length;n++)e.index===l.saving_throws[n].index&&(a+="abilityScore savingThrow ",console.log("saving throw set: ",l.saving_throws[n].index));return s.a.createElement("div",{className:"col-2 text-center ability",key:e.index},s.a.createElement("p",null,e.full_name),s.a.createElement("p",{className:a},t.props.abilityScoresSelected[e.index]))}));return h(n)&&(r=n.ability_bonuses.map((function(e,t){for(var a=0;a<c.length;a++)if(c[a].name===e.ability_score.name)return s.a.createElement("li",{className:"col-6 align-self-center text-center",key:t},c[a].full_name,": +",e.bonus);return s.a.createElement("li",{key:t},"Ability: +BONUS")})),e=n.ability_bonuses.map((function(e){return e})),i=c.map((function(a){var n="abilityScore ";if(h(l))for(var c=0;c<l.saving_throws.length;c++)a.index===l.saving_throws[c].index&&(n="abilityScore savingThrow ");for(var r=0;r<e.length;r++)if(e[r].ability_score.name.toLowerCase()===a.index){n+="bonus ";var i=t.props.abilityScoresSelected[a.index]+e[r].bonus;return s.a.createElement("div",{className:"col-2 text-center ability",key:a.index},s.a.createElement("p",null,a.full_name),s.a.createElement("p",{className:n},i))}return s.a.createElement("div",{className:"col-2 text-center ability",key:a.index},s.a.createElement("p",null,a.full_name),s.a.createElement("p",{className:n},t.props.abilityScoresSelected[a.index]))}))),[r,i,e]}},{key:"characterClassInfo",value:function(){var e=this.props,t=e.abilityScoresInfo,a=e.classSelected,n=e.spellsChosen,l=e.proficiencies,c=e.selectedSpell,r=e.setSelectedSpell,i=[],o=[],u="",p=[];return h(a)&&(u=a.hit_die,p=a.saving_throws.map((function(e,a){for(var n=0;n<t.length;n++)if(t[n].name===e.name)return s.a.createElement("li",{className:"col-6 align-self-center text-center",key:e.name.toLowerCase()}," ",t[n].full_name);return s.a.createElement("li",{key:a},"Ability: +BONUS")})),i=l.map((function(e){return s.a.createElement("li",{className:"col-6 align-self-center text-center",key:e.name},e.name)})),n.length>0&&(o=n.map((function(e){return e===c?s.a.createElement("li",{key:e.name},e.name):s.a.createElement("li",{onClick:function(){return r(e)},key:e.name},e.name)})))),[i,o,u,p]}},{key:"render",value:function(){var e=this.props,t=e.raceSelected,a=e.classSelected,n=e.navigation,l=this.characterRaceInfo(),c=Object(r.a)(l,2),i=c[0],o=c[1],u=this.characterClassInfo(),p=Object(r.a)(u,4),m=p[0],f=p[1],d=p[2],v=p[3];switch(n){case"Spells":if(h(this.props.classSelected)){var b,S,y,g=this.props.selectedSpell.selectedSpell;return h(g)&&(b=s.a.createElement("p",null,g.desc),S=g.name,y=g.level),s.a.createElement("div",{className:"col-12 info"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 characterTitle"},s.a.createElement("h3",null,t.name?t.name:"-",s.a.createElement("span",null," "),a.name?a.name:"-"),s.a.createElement("div",{className:"row"},o)),s.a.createElement("div",{className:"col-3"},s.a.createElement("p",null,"Spells"),s.a.createElement("ul",null,f)),s.a.createElement("div",{className:"col-9"},s.a.createElement("h4",null,S," ",y),b)))}return s.a.createElement("div",{className:"col-12 info"},s.a.createElement("p",{className:"text-center"},"..Choose your class to select spells "));default:return s.a.createElement("div",{className:"col-12 info"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 characterTitle"},s.a.createElement("h3",null,t.name?t.name:"-",s.a.createElement("span",null," "),a.name?a.name:"-"),s.a.createElement("div",{className:"row"},o)),s.a.createElement("div",{className:"col-6 info-col-left"},s.a.createElement("h6",null,"Ability bonuses"),s.a.createElement("ul",null,i)),s.a.createElement("div",{className:"col-6 info-col-right"},s.a.createElement("h6",null,"Hit die: ",d),s.a.createElement("h6",null,"Saving throws"),s.a.createElement("ul",null,v),s.a.createElement("h6",null,"Proficiencies"),s.a.createElement("ul",{className:"proficienciesSelected"},m))))}}}]),a}(n.Component),d=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleFocus=function(e){return e.target.select()},n.handleChange=function(e){for(var t=e.target,a=t.name,s=t.value,l=n.state.scores,c=JSON.parse(JSON.stringify(l)),r=0;r<c.length;r++)c[r].name===a&&(c[r].value=""===s?0:parseInt(s,10));n.setState({scores:c})},n.submitForm=function(){n.props.handleSubmit(n.state.scores)},n.initialState={scores:[{name:"cha",value:0},{name:"con",value:0},{name:"dex",value:0},{name:"int",value:0},{name:"str",value:0},{name:"wis",value:0}]},n.state=n.initialState,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("AbilityScoresForm ",this.props),this.setState({scores:[{name:"cha",value:this.props.abilityScoresSelected.cha},{name:"con",value:this.props.abilityScoresSelected.con},{name:"dex",value:this.props.abilityScoresSelected.dex},{name:"int",value:this.props.abilityScoresSelected.int},{name:"str",value:this.props.abilityScoresSelected.str},{name:"wis",value:this.props.abilityScoresSelected.wis}]})}},{key:"render",value:function(){var e=this.state.scores;return s.a.createElement("form",null,s.a.createElement("label",{className:e[0].value>18||e[0].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"cha"},"Charisma"),s.a.createElement("input",{className:"col-2",type:"number",name:"cha",id:"cha",value:e[0].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("label",{className:e[1].value>18||e[1].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"con"},"Constitution"),s.a.createElement("input",{className:"col-2",type:"number",name:"con",id:"con",value:e[1].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("label",{className:e[2].value>18||e[2].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"dex"},"Dexterity"),s.a.createElement("input",{className:"col-2",type:"number",name:"dex",id:"dex",value:e[2].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("label",{className:e[3].value>18||e[3].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"int"},"Intelligence"),s.a.createElement("input",{className:"col-2",type:"number",name:"int",id:"int",value:e[3].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("label",{className:e[4].value>18||e[4].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"str"},"Strength"),s.a.createElement("input",{className:"col-2",type:"number",name:"str",id:"str",value:e[4].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("label",{className:e[5].value>18||e[5].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"wis"},"Wisdom"),s.a.createElement("input",{className:"col-2",type:"number",name:"wis",id:"wis",value:e[5].value,onChange:this.handleChange,onFocus:this.handleFocus}),s.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))}}]),a}(n.Component),v=a(7),b=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).addProficiency=function(e,t){for(var a=n.props.classSelected,s=n.state.proficienciesChosen,l=a.proficiency_choices,c=0;c<l[t].from.length;c++){if(!(s[t].length<l[t].choose)){var r="You can only select "+l[t].choose+" from this category.";n.props.updateAlertMessage(r);break}if(l[t].from[c].name===e&&"break"===function(){var a=l[t].from.filter((function(t){return t.name===e})),c=[].concat(Object(v.a)(n.state.proficiencies),[a[0]]),r=s;return r[t]=[].concat(Object(v.a)(r[t]),[a[0]]),n.setState((function(e){return{proficiencies:[].concat(Object(v.a)(e.proficiencies),[a[0]]),proficienciesChosen:r}}),n.props.setProficiencies(c,r)),"break"}())break}},n.removeProficiency=function(e,t){for(var a=n.state.proficiencies,s=n.state.proficienciesChosen,l=0;l<s.length;l++)for(var c=0;c<s[l].length;c++)if(s[l][c].name===e){var r=a.filter((function(t){return t.name!==e})),i=s;i[t]=s[t].filter((function(t){return t.name!==e})),n.setState({proficiencies:Object(v.a)(r),proficienciesChosen:i},n.props.setProficiencies(Object(v.a)(r),i));break}},n.state={proficiencies:[],proficienciesChosen:[],category:0},n.setProficiencies=n.setProficiencies.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){h(this.props.classSelected)&&this.setProficiencies()}},{key:"setProficiencies",value:function(){var e=this.props.classSelected,t=this.props.proficiencies,a=this.props.proficienciesChosen,n=[],s=e.proficiency_choices.length;if(a.length<1){for(var l=0;l<s;l++)n[l]=[];this.setState({proficiencies:t,proficienciesChosen:n},this.props.setProficiencies(t,n))}else this.setState({proficiencies:t,proficienciesChosen:a})}},{key:"classProficienciesToChooseFrom",value:function(){for(var e=this,t=this.props.classSelected,a=this.state.proficiencies,n=this.state.proficienciesChosen,l=[],c=function(){var c=r,i=t.proficiency_choices[r].from.map((function(t){for(var l=0;l<a.length;l++)for(var r=0;r<n[c].length;r++)if(t.name===n[c][r].name)return s.a.createElement("button",{className:"btn-sm col-6 btn-secondary",onClick:function(){return e.removeProficiency(t.name,c)},key:t.name},t.name);return s.a.createElement("button",{className:"btn-sm col-6 btn-primary",onClick:function(){return e.addProficiency(t.name,c)},key:t.name},t.name)})),o=void 0;o=void 0===n[c]?0:n[c].length,console.log(o),l.push(s.a.createElement("div",{className:"col-12 chooseProficiency",key:"catetory"+c},s.a.createElement("h6",null,"Choose: ",t.proficiency_choices[c].choose-o),i))},r=0;r<t.proficiency_choices.length;r++)c();return l}},{key:"setNavigatioCategory",value:function(e){this.setState({category:e})}},{key:"proficienciesNavigation",value:function(){var e=this,t=this.props.classSelected,a=this.state.category,n=[];console.log(t.proficiency_choices.length);for(var l=function(){var l=c;a===c?n.push(s.a.createElement("button",{className:"btn-sm btn profNavSelected",onClick:function(){},key:t.name+c},"Category ",a)):n.push(s.a.createElement("button",{className:"btn-sm btn profNav",onClick:function(){return e.setNavigatioCategory(l)},key:t.name+c},"Category ",l))},c=0;c<t.proficiency_choices.length;c++)l();return s.a.createElement("div",{className:"col-12"},n)}},{key:"render",value:function(){var e=this.classProficienciesToChooseFrom(),t=this.proficienciesNavigation(),a=this.state.category;return s.a.createElement("div",{className:"col-12 text-center selection"},t,e[a])}}]),a}(n.Component),S=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).spellSlots=function(){var e=n.props.classSelected,t=n.props.levelData,a=[];if("Ranger"===e.name||"Paladin"===e.name){for(var s=0;s<t.length;s++)if(t[s].class.name===e.name){a[0]=0;for(var l=1;l<6;l++)0!==t[s].spellcasting["spell_slots_level_"+l]&&(a[l]=t[s].spellcasting["spell_slots_level_"+l],console.log("SLOTS avail",a[l]))}}else for(var c=0;c<t.length;c++)if(t[c].class.name===e.name){a[0]=t[c].spellcasting.cantrips_known;for(var r=1;r<10;r++)0!==t[c].spellcasting["spell_slots_level_"+r]&&(a[r]=t[c].spellcasting["spell_slots_level_"+r])}n.setState({spellSlots:a},n.props.updateSpellSlots(a))},n.updateSpells=function(e){var t=n.props.spellsChosen,a=[].concat(Object(v.a)(t),[e]);n.setState({spellsChosen:a}),n.props.setSpells(a)},n.spellsChosenByLevel=function(){for(var e=n.props.spellsChosen,t=0,a=0,s=[],l=0;l<e.length;l++)0===e[l].level?t++:1===e[l].level&&a++;return s.push(t),s.push(a),s},n.spellSource=function(e,t){var a,s,l=n.props.classSelected,c=n.props.spellsChosen,i=n.state.spellSlots,o=0,u=0,p="You cannot add "+e.name+" to your spell book.";switch(l.name){case"Barbarian":break;case"Bard":if(0===c.length){n.updateSpells(e);break}var m=Object(r.a)(i,2);a=m[0],s=m[1];var h=n.spellsChosenByLevel(),f=Object(r.a)(h,2);if(o=f[0],u=f[1],o<a&&0===e.level){n.updateSpells(e);break}if(u<s&&1===e.level){n.updateSpells(e);break}n.props.updateAlertMessage(p);break;case"Cleric":if(0===c.length){n.updateSpells(e);break}var d=Object(r.a)(i,2);a=d[0],s=d[1];var v=n.spellsChosenByLevel(),b=Object(r.a)(v,2);if(o=b[0],u=b[1],o<a&&0===e.level){n.updateSpells(e);break}u<s&&1===e.level&&n.updateSpells(e),n.props.updateAlertMessage(p);break;case"Druid":if(0===c.length){n.updateSpells(e);break}var S=Object(r.a)(i,2);a=S[0],s=S[1];var y=n.spellsChosenByLevel(),g=Object(r.a)(y,2);if(o=g[0],u=g[1],o<a&&0===e.level){n.updateSpells(e);break}u<s&&1===e.level&&n.updateSpells(e),n.props.updateAlertMessage(p);break;case"Fighter":case"Monk":break;case"Paladin":if(0===c.length){n.updateSpells(e);break}var k=Object(r.a)(i,2);a=k[0],s=k[1];var E=n.spellsChosenByLevel(),C=Object(r.a)(E,2);if(o=C[0],u=C[1],o<a&&0===e.level){n.updateSpells(e);break}u<s&&1===e.level&&n.updateSpells(e);break;case"Ranger":if(0===c.length){n.updateSpells(e);break}var N=Object(r.a)(i,2);a=N[0],s=N[1];var j=n.spellsChosenByLevel(),O=Object(r.a)(j,2);if(o=O[0],u=O[1],o<a&&0===e.level){n.updateSpells(e);break}u<s&&1===e.level&&n.updateSpells(e);break;case"Rogue":break;case"Sorcerer":if(0===c.length){n.updateSpells(e);break}var w=n.spellsChosenByLevel(),x=Object(r.a)(w,2);if(o=x[0],u=x[1],o<4&&0===e.level){n.updateSpells(e);break}u<2&&1===e.level&&n.updateSpells(e),n.props.updateAlertMessage(p);break;case"Warlock":if(0===c.length){n.updateSpells(e);break}var _=n.spellsChosenByLevel(),I=Object(r.a)(_,2);if(o=I[0],u=I[1],o<2&&0===e.level){n.updateSpells(e);break}u<2&&1===e.level&&n.updateSpells(e),n.props.updateAlertMessage(p);break;case"Wizard":if(console.log("Wizard Spell source. "),0===c.length){n.updateSpells(e);break}var P=n.spellsChosenByLevel(),M=Object(r.a)(P,2);if(o=M[0],u=M[1],o<3&&0===e.level){n.updateSpells(e);break}if(u<6&&1===e.level){n.updateSpells(e);break}n.props.updateAlertMessage(p)}},n.setClassSpells=function(e){var t=n.props.classSelected,a=n.props.spellsInfo,s=[];switch(e){case 1:for(var l=0;l<a.length;l++)for(var c=0;c<a[l].classes.length;c++)t.name===a[l].classes[c].name&&a[l].level<=e&&s.push(a[l]);n.setState({classSpells:s}),console.log("state classSpells updated",s);break;default:alert("level of character is invalid in spells creation. ")}},n.addSpell=function(e){var t=n.props.setSelectedSpell;n.spellSource(e,1),t(e)},n.removeSpell=function(e){for(var t=n.props.spellsChosen,a=n.props.setSelectedSpell,s=[],l=0;l<t.length;l++)t[l].name!==e.name&&s.push(t[l]);n.setState({spellsChosen:s}),n.props.setSpells(s),a({})},n.displaySpells=function(){for(var e=n.props.classSelected,t=n.state.classSpells,a=n.state.spellSlots,l=n.props.spellsChosen,c=[],r=function(){var e=i,a=t.filter((function(t){return t.level===e?t:null}));c[e]=a.map((function(e){var t="btn btn-sm btn-block spell-btn ";if(void 0!==e.damage&&void 0!==e.damage.damage_type&&(t+=e.damage.damage_type.index+" "),0===l.length)return t+="btn-secondary ",s.a.createElement("button",{className:t,onClick:function(){return n.addSpell(e)},key:e.name+e.level},e.name);for(var a=0;a<l.length;a++){if(l[a].name===e.name)return t+="btn-primary ",s.a.createElement("button",{className:t,onClick:function(){return n.removeSpell(e)},key:e.name+e.level},e.name)}return t+="btn-secondary ",s.a.createElement("button",{className:t,onClick:function(){return n.addSpell(e)},key:e.name+e.level},e.name)}))},i=0;i<a.length;i++)r();for(var o=[],u=0;u<c.length;u++)if(0===u)"Paladin"===e.name||"Ranger"===e.name?o[u]=s.a.createElement("div",{className:"col-12",key:"no-known-spells"},s.a.createElement("h6",null,"You have no spells to choose from at level 1")):o[u]=s.a.createElement("div",{className:"col-6 spells",key:"cantrips"},s.a.createElement("h6",null,"Cantrips"),c[u]);else{o[u]=s.a.createElement("div",{className:"col-6 spells",key:"spellLevel"+u},s.a.createElement("h6",null,"Spell Level ",u),c[u])}return o},n.state={classSpells:[],spellSlots:[],spellsChosen:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.spellSlots(),this.setClassSpells(1)}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 text-center selection"},this.displaySpells())}}]),a}(n.Component),y=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).selectRace=function(e){for(var t=n.props.racesInfo,a=n.props.setRace,s=function(s){if(t[s].index===e){var l=t.filter((function(e){return e.name===t[s].name}));return n.setState({raceSelected:l[0]}),a(l[0]),"break"}},l=0;l<t.length;l++){if("break"===s(l))break}},n.buttons=function(){var e=n.props.races,t=n.state.raceSelected;return e.results.map((function(e){return h(t)&&t.index===e.index?s.a.createElement("button",{className:"selectionButtons buttonSelected col-4 {race.index}","aria-disabled":"true",key:e.index},e.name):s.a.createElement("button",{onClick:function(){return n.selectRace(e.index)},className:"selectionButtons col-4",key:e.index},e.name)}))},n.state={raceSelected:{}},n.selectRace=n.selectRace.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){h(this.props.raceSelected)&&this.setState({raceSelected:this.props.raceSelected}),console.log(this.props)}},{key:"render",value:function(){return s.a.createElement("div",{className:"text-center selection col-12"},s.a.createElement("p",{className:"selectionTitle"},"Choose your Champions Race"),this.buttons())}}]),a}(n.Component),g=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={classSelected:{}},n.buttons=n.buttons.bind(Object(u.a)(n)),n.selectClass=n.selectClass.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){h(this.props.classSelected)&&this.setState({classSelected:this.props.classSelected})}},{key:"selectClass",value:function(e){for(var t=this,a=this.props.classesInfo,n=this.props.setClass,s=function(s){if(a[s].index===e){var l=a.filter((function(e){return e.name===a[s].name}));return t.setState({classSelected:l[0]}),n(l[0]),"break"}},l=0;l<a.length;l++){if("break"===s(l))break}}},{key:"buttons",value:function(){var e=this,t=this.props.classes,a=this.state.classSelected;return t.results.map((function(t){return h(a)&&a.index===t.index?s.a.createElement("button",{className:"selectionButtons buttonSelected col-4",key:t.index},t.name):s.a.createElement("button",{onClick:function(){return e.selectClass(t.index)},className:"selectionButtons col-4",key:t.index},t.name)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 text-center selection"},s.a.createElement("p",{className:"selectionTitle"},"Choose your Champions Class"),this.buttons())}}]),a}(n.Component),k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={abilityScoresSwitch:!1},n.abilityScoreSwitchy=n.abilityScoreSwitchy.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"abilityScoreSwitchy",value:function(){this.setState((function(e){return{abilityScoresSwitch:!e.abilityScoresSwitch}}))}},{key:"render",value:function(){var e=this,t=this.props.abilityScoresInfo,a=this.props.classSelected,n=this.props.navigation,l=this.props.getScore,c=this.state.abilityScoresSwitch;switch(n){case"Races":return s.a.createElement(y,this.props);case"Classes":return s.a.createElement(g,this.props);case"Proficiencies":return h(a)?s.a.createElement(b,this.props):s.a.createElement("div",{className:"col-12 text-center selection"},"You must choose a class to select your proficiencies.");case"Spells":return h(a)&&void 0!==a.spellcasting?s.a.createElement(S,this.props):s.a.createElement("div",{className:"col-12 text-center selection"},a.name," is not a spell caster.");case"Ability-Scores":var r=t.map((function(e,t){return s.a.createElement("button",{onClick:function(){return l(e.index)},className:"col-4 selectionButtons",key:t},e.full_name)}));return s.a.createElement("div",{className:"col-12 text-center selection"},c?s.a.createElement(d,{handleSubmit:this.props.handleSubmit,abilityScoresSelected:this.props.abilityScoresSelected}):r,s.a.createElement("button",{onClick:function(){return e.abilityScoreSwitchy()},className:"btn btn-primary col-6 align-text-bottom"},c?"Auto fill ":"Manual fill "),s.a.createElement("br",null));default:return s.a.createElement("div",{className:"col-12 text-center selection"},"DEFAULT: It's a broke!")}}}]),a}(n.Component),E=function(e){var t=e.navigation,a=e.navigationCategories,n=e.navigate,l=e.classSelected,c=a.map((function(e,a){if(h(l))return t===e?s.a.createElement("button",{type:"button",className:"btn btn-sm btn-success btn-nav disabled",tabIndex:"-1","aria-disabled":"true",key:a},e):s.a.createElement("button",{onClick:function(){return n(e)},type:"button",className:"btn btn-sm btn-dark btn-nav",key:a},e);if(t===e)return s.a.createElement("button",{type:"button",className:"btn btn-sm btn-success btn-nav disabled",tabIndex:"-1","aria-disabled":"true",key:a},e);if("Classes"!==e||"Proficiencies"!==t&&"Spells"!==t)return s.a.createElement("button",{onClick:function(){return n(e)},type:"button",className:"btn btn-sm btn-dark btn-nav",key:a},e);switch(t){case"Proficiencies":default:return s.a.createElement("button",{onClick:function(){return n(e)},type:"button",className:"btn btn-sm btn-dark btn-nav",key:a},e)}}));return s.a.createElement("div",{className:"col-12 text-center navigation"},c)},C=function(e){var t=s.a.createElement("div",{className:"row",id:"alert"});return e.alertMessage.length>0&&(t=s.a.createElement("div",{className:"row",id:"alert"},s.a.createElement("div",{className:"col text-center"},e.alertMessage))),t},N=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).abilityScoresSetup=function(e){for(var t=e.count,a=e.results,s={},l=0;l<t;l++){s[a[l].index]=0}n.setState({abilityScoresSelected:s})},n.updateAlertMessage=function(e){n.setState({alertMessage:e},n.fadeMessage())},n.fadeMessage=function(){var e=document.getElementById("alert");setTimeout((function(){var t=setInterval((function(){e.style.opacity||(e.style.opacity=1),e.style.opacity>0?e.style.opacity-=.01:clearInterval(t)}),10)}),1700),n.setState({alertMessage:""}),e.style.opacity=1},n.setSelectedSpell=function(e){n.setState({selectedSpell:e})},n.setSpells=function(e){n.setState({spellsChosen:e})},n.updateSpellSlots=function(e){n.setState({spellSlots:e})},n.navigate=function(e){n.setState({navigation:e})},n.getScore=function(e){for(var t=n.props.abilityScores,a=n.state.abilityScoresSelected,s=0;s<t.count;s++)if(t.results[s].index===e){a[e]=n.randomDiceRoll(6),n.setState({abilityScoresSelected:a});break}},n.randomDiceRoll=function(e){for(var t=0,a=0,n=[],s=0;s<5;s++)t=Math.floor(Math.random()*e+1),n.push(t);n.sort(),n.splice(0,2);for(var l=0;l<n.length;l++)a+=n[l];return a},n.startingProficiencies=function(e){n.setState({proficiencies:e})},n.setProficiencies=function(e,t){n.setState({proficiencies:e,proficienciesChosen:t})},n.updateProficiencies=function(e,t){n.setState({proficiencies:e,proficienciesChoices:t})},n.handleSubmit=function(e){for(var t=n.state.abilityScoresSelected,a=[],s=0;s<e.length;s++)e[s].value<3||e[s].value>18?a.push(e[s].name):(t[e[s].name]=parseInt(e[s].value,10),n.setState({abilityScoresSelected:t}));if(a.length>0){for(var l="Ability Scores must not be 0, you currently have 0 in: ",c=0;c<a.length;c++)c<a.length-1?l+=a[c]+", ":l+=a[c];l+=".",n.updateAlertMessage(l)}},n.state={abilityScoresSelected:{},navigationCategories:["Races","Classes","Ability-Scores","Proficiencies","Spells"],navigation:"Races",classSelected:{},raceSelected:{},proficiencies:[],proficienciesChoices:[],proficienciesChosen:[],spellsChosen:[],spellSlots:[],selectedSpell:{},alertMessage:"",updateSpellSlots:n.updateSpellSlots,updateAlertMessage:n.updateAlertMessage,setSelectedSpell:n.setSelectedSpell,setProficiencies:n.setProficiencies,startingProficiencies:n.startingProficiencies,updateProficiencies:n.updateProficiencies,setSpells:n.setSpells},n.setRace=n.setRace.bind(Object(u.a)(n)),n.setClass=n.setClass.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.abilityScores;this.abilityScoresSetup(e)}},{key:"componentDidUpdate",value:function(){}},{key:"setRace",value:function(e){this.setState({raceSelected:e})}},{key:"setClass",value:function(e){this.setState({classSelected:e,spellsChosen:[],selectedSpell:{},proficiencies:e.proficiencies,proficienciesChosen:[]})}},{key:"render",value:function(){return s.a.createElement("div",{id:"creator",className:"container-fluid creation"},s.a.createElement(C,{alertMessage:this.state.alertMessage}),s.a.createElement("div",{className:"row"},s.a.createElement(f,Object.assign({},this.state,this.props))),s.a.createElement("div",{className:"row"},s.a.createElement(k,Object.assign({},this.state,this.props,{setRace:this.setRace,setClass:this.setClass,handleSubmit:this.handleSubmit,getScore:this.getScore}))),s.a.createElement("div",{className:"row"},s.a.createElement(E,Object.assign({},this.state,this.props,{navigate:this.navigate}))))}}]),a}(n.Component),j=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).chooseYourChampion=function(){n.setState((function(e){return{ready:!e.ready}}))},n.state={races:{},racesInfo:new Array(0),classes:{},classesInfo:new Array(0),abilityScores:{},abilityScoresInfo:[],spells:{},spellsInfo:[],features:{},featuresInfo:[],levelData:[],ready:!1,enter:!1},n.getInfo=n.getInfo.bind(Object(u.a)(n)),n.getLevelData=n.getLevelData.bind(Object(u.a)(n)),n.chooseYourChampion=n.chooseYourChampion.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getCharacterInformation("https://www.dnd5eapi.co/api/").then((function(t){e.getCharacterData(t.races,t.classes,t.abilityScores,t.spells,t.features)}))}},{key:"getCharacterInformation",value:function(e){return Promise.all([this.getRaces(e),this.getClasses(e),this.getAbilityScores(e),this.getSpells(e),this.getFeatures(e)]).then((function(e){var t=Object(r.a)(e,5);return{races:t[0],classes:t[1],abilityScores:t[2],spells:t[3],features:t[4]}}))}},{key:"getCharacterData",value:function(e,t,a,n,s){var l=this;Promise.all([this.getInfo(e,"races"),this.getInfo(t,"classes"),this.getLevelData(t,1),this.getInfo(a,"ability-scores"),this.getInfo(n,"spells"),this.getInfo(s,"features")]).then((function(){l.setState({enter:!0})}))}},{key:"getRaces",value:function(e){var t=this;return fetch(e+"races").then((function(e){return e.json()})).then((function(e){return t.setState({races:e}),e})).catch((function(t){console.log(t+" -- getRaces() -- "+e)}))}},{key:"getClasses",value:function(e){var t=this;return fetch(e+"classes").then((function(e){return e.json()})).then((function(e){return t.setState({classes:e}),e})).catch((function(t){console.log(t+" -- getClasses() -- "+e)}))}},{key:"getAbilityScores",value:function(e){var t=this;return fetch(e+"ability-scores").then((function(e){return e.json()})).then((function(e){return t.setState({abilityScores:e}),e})).catch((function(t){console.log(t+" -- getAbilityScores() -- "+e)}))}},{key:"getSpells",value:function(e){var t=this;return fetch(e+"spells").then((function(e){return e.json()})).then((function(e){return t.setState({spells:e}),e})).catch((function(t){console.log(t+" -- getSpells() -- "+e)}))}},{key:"getFeatures",value:function(e){var t=this;return fetch(e+"features").then((function(e){return e.json()})).then((function(e){return t.setState({features:e}),e})).catch((function(t){console.log(t+" -- getFeatures() -- "+e)}))}},{key:"getLevelData",value:function(e,t){for(var a=[],n=0;n<e.results.length;n++)Promise.resolve(fetch("https://www.dnd5eapi.co/api/classes/"+e.results[n].index+"/levels/"+t)).then((function(e){return e.json()})).then((function(e){a.push(e)}));this.setState({levelData:a})}},{key:"getInfo",value:function(e,t){for(var a=[],n=0;n<e.results.length;n++)Promise.resolve(fetch("https://www.dnd5eapi.co"+e.results[n].url)).then((function(e){return e.json()})).then((function(e){a.push(e)}));switch(t){case"races":this.setState({racesInfo:a});break;case"classes":this.setState({classesInfo:a});break;case"ability-scores":this.setState({abilityScoresInfo:a});break;case"spells":this.setState({spellsInfo:a});break;case"features":this.setState({featuresInfo:a})}}},{key:"render",value:function(){return this.state.ready?s.a.createElement(N,this.state):s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement("h1",null,"Welcome"),this.state.enter?s.a.createElement("button",{onClick:this.chooseYourChampion,className:"btn btn-lg btn-primary"},"Begin your journey!"):s.a.createElement("p",null,"...Loading API"))))}}]),a}(n.Component);a(17);c.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.c888153e.chunk.js.map