(this["webpackJsonpdnd-character-creator"]=this["webpackJsonpdnd-character-creator"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(11),c=a.n(l),r=a(6),i=a(2),o=a(3),u=a(1),p=a(5),h=a(4);function m(e){for(var t in e)return e.hasOwnProperty(t),!0;return!1}s.Component;var f=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleFocus=function(e){return e.target.select()},s.handleChange=function(e){for(var t=e.target,a=t.name,n=t.value,l=s.state.scores,c=JSON.parse(JSON.stringify(l)),r=0;r<c.length;r++)c[r].name===a&&(c[r].value=""===n?0:parseInt(n,10));s.setState({scores:c})},s.submitForm=function(){s.props.handleSubmit(s.state.scores)},s.initialState={scores:[{name:"cha",value:0},{name:"con",value:0},{name:"dex",value:0},{name:"int",value:0},{name:"str",value:0},{name:"wis",value:0}]},s.state=s.initialState,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("AbilityScoresForm ",this.props),this.setState({scores:[{name:"cha",value:this.props.abilityScoresSelected.cha},{name:"con",value:this.props.abilityScoresSelected.con},{name:"dex",value:this.props.abilityScoresSelected.dex},{name:"int",value:this.props.abilityScoresSelected.int},{name:"str",value:this.props.abilityScoresSelected.str},{name:"wis",value:this.props.abilityScoresSelected.wis}]})}},{key:"render",value:function(){var e=this.state.scores;return n.a.createElement("form",null,n.a.createElement("label",{className:e[0].value>18||e[0].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"cha"},"Charisma"),n.a.createElement("input",{className:"col-2",type:"number",name:"cha",id:"cha",value:e[0].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:e[1].value>18||e[1].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"con"},"Constitution"),n.a.createElement("input",{className:"col-2",type:"number",name:"con",id:"con",value:e[1].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:e[2].value>18||e[2].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"dex"},"Dexterity"),n.a.createElement("input",{className:"col-2",type:"number",name:"dex",id:"dex",value:e[2].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:e[3].value>18||e[3].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"int"},"Intelligence"),n.a.createElement("input",{className:"col-2",type:"number",name:"int",id:"int",value:e[3].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:e[4].value>18||e[4].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"str"},"Strength"),n.a.createElement("input",{className:"col-2",type:"number",name:"str",id:"str",value:e[4].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("label",{className:e[5].value>18||e[5].value<3?"col-4 invalidScore ":"col-4 validScore ",htmlFor:"wis"},"Wisdom"),n.a.createElement("input",{className:"col-2",type:"number",name:"wis",id:"wis",value:e[5].value,onChange:this.handleChange,onFocus:this.handleFocus}),n.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))}}]),a}(s.Component),d=a(7),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).addProficiency=function(e,t){for(var a=s.props.classSelected,n=s.state.proficienciesChosen,l=a.proficiency_choices,c=0;c<l[t].from.length;c++){if(!(n[t].length<l[t].choose)){var r="You can only select "+l[t].choose+" from this category.";s.props.updateAlertMessage(r);break}if(l[t].from[c].name===e&&"break"===function(){var a=l[t].from.filter((function(t){return t.name===e})),c=[].concat(Object(d.a)(s.state.proficiencies),[a[0]]),r=n;return r[t]=[].concat(Object(d.a)(r[t]),[a[0]]),s.setState((function(e){return{proficiencies:[].concat(Object(d.a)(e.proficiencies),[a[0]]),proficienciesChosen:r}}),s.props.setProficiencies(c,r)),"break"}())break}},s.removeProficiency=function(e,t){for(var a=s.state.proficiencies,n=s.state.proficienciesChosen,l=0;l<n.length;l++)for(var c=0;c<n[l].length;c++)if(n[l][c].name===e){var r=a.filter((function(t){return t.name!==e})),i=n;i[t]=n[t].filter((function(t){return t.name!==e})),s.setState({proficiencies:Object(d.a)(r),proficienciesChosen:i},s.props.setProficiencies(Object(d.a)(r),i));break}},s.state={proficiencies:[],proficienciesChosen:[],category:0},s.setProficiencies=s.setProficiencies.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){m(this.props.classSelected)&&this.setProficiencies()}},{key:"setProficiencies",value:function(){var e=this.props.classSelected,t=this.props.proficiencies,a=this.props.proficienciesChosen,s=[],n=e.proficiency_choices.length;if(a.length<1){for(var l=0;l<n;l++)s[l]=[];this.setState({proficiencies:t,proficienciesChosen:s},this.props.setProficiencies(t,s))}else this.setState({proficiencies:t,proficienciesChosen:a})}},{key:"classProficienciesToChooseFrom",value:function(){for(var e=this,t=this.props.classSelected,a=this.state.proficiencies,s=this.state.proficienciesChosen,l=[],c=function(){var c=r,i=t.proficiency_choices[r].from.map((function(t){for(var l=0;l<a.length;l++)for(var r=0;r<s[c].length;r++)if(t.name===s[c][r].name)return n.a.createElement("button",{className:"btn-sm col-6 btn-success",onClick:function(){return e.removeProficiency(t.name,c)},key:t.name},t.name);return n.a.createElement("button",{className:"btn-sm col-6 btn-secondary",onClick:function(){return e.addProficiency(t.name,c)},key:t.name},t.name)}));l.push(n.a.createElement("div",{className:"col-12 selection-choose-proficiencies",key:"catetory"+c},i))},r=0;r<t.proficiency_choices.length;r++)c();return l}},{key:"setNavigationCategory",value:function(e){this.setState({category:e})}},{key:"proficienciesNavigation",value:function(){for(var e=this,t=this.props.classSelected,a=this.state.category,s=this.state.proficienciesChosen,l=[],c=function(){var c=r,i=void 0;i=void 0===s[c]?0:s[c].length,a===r?l.push(n.a.createElement("button",{className:"btn-sm btn profNavSelected",onClick:function(){},key:t.name+r},"Choose: ",t.proficiency_choices[c].choose-i)):l.push(n.a.createElement("button",{className:"btn-sm btn profNav",onClick:function(){return e.setNavigationCategory(c)},key:t.name+r},"Choose: ",t.proficiency_choices[c].choose-i))},r=0;r<t.proficiency_choices.length;r++)c();return n.a.createElement("div",{className:"col-12"},l)}},{key:"render",value:function(){var e=this.classProficienciesToChooseFrom(),t=this.proficienciesNavigation(),a=this.state.category;return n.a.createElement("div",{className:"col-12 text-center selection"}," ",n.a.createElement("p",{className:"selectionTitle"},"Choose your Champions Proficiencies"),t,e[a])}}]),a}(s.Component),b=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).spellSlots=function(){var e=s.props.classSelected,t=s.props.levelData,a=[];if("Ranger"===e.name||"Paladin"===e.name){for(var n=0;n<t.length;n++)if(t[n].class.name===e.name){a[0]=0;for(var l=1;l<6;l++)0!==t[n].spellcasting["spell_slots_level_"+l]&&(a[l]=t[n].spellcasting["spell_slots_level_"+l],console.log("SLOTS avail",a[l]))}}else for(var c=0;c<t.length;c++)if(t[c].class.name===e.name){a[0]=t[c].spellcasting.cantrips_known;for(var r=1;r<10;r++)0!==t[c].spellcasting["spell_slots_level_"+r]&&(a[r]=t[c].spellcasting["spell_slots_level_"+r])}s.setState({spellSlots:a},s.props.updateSpellSlots(a))},s.updateSpells=function(e){var t=s.props.spellsChosen,a=[].concat(Object(d.a)(t),[e]);s.setState({spellsChosen:a}),s.props.setSpells(a)},s.spellsChosenByLevel=function(){for(var e=s.props.spellsChosen,t=0,a=0,n=[],l=0;l<e.length;l++)0===e[l].level?t++:1===e[l].level&&a++;return n.push(t),n.push(a),n},s.spellSource=function(e,t){var a,n,l=s.props.classSelected,c=s.props.spellsChosen,i=s.state.spellSlots,o=0,u=0,p="You cannot add "+e.name+" to your spell book.";switch(l.name){case"Barbarian":break;case"Bard":if(0===c.length){s.updateSpells(e);break}var h=Object(r.a)(i,2);a=h[0],n=h[1];var m=s.spellsChosenByLevel(),f=Object(r.a)(m,2);if(o=f[0],u=f[1],o<a&&0===e.level){s.updateSpells(e);break}if(u<n&&1===e.level){s.updateSpells(e);break}s.props.updateAlertMessage(p);break;case"Cleric":if(0===c.length){s.updateSpells(e);break}var d=Object(r.a)(i,2);a=d[0],n=d[1];var v=s.spellsChosenByLevel(),b=Object(r.a)(v,2);if(o=b[0],u=b[1],o<a&&0===e.level){s.updateSpells(e);break}u<n&&1===e.level&&s.updateSpells(e),s.props.updateAlertMessage(p);break;case"Druid":if(0===c.length){s.updateSpells(e);break}var g=Object(r.a)(i,2);a=g[0],n=g[1];var S=s.spellsChosenByLevel(),y=Object(r.a)(S,2);if(o=y[0],u=y[1],o<a&&0===e.level){s.updateSpells(e);break}u<n&&1===e.level&&s.updateSpells(e),s.props.updateAlertMessage(p);break;case"Fighter":case"Monk":break;case"Paladin":if(0===c.length){s.updateSpells(e);break}var k=Object(r.a)(i,2);a=k[0],n=k[1];var C=s.spellsChosenByLevel(),E=Object(r.a)(C,2);if(o=E[0],u=E[1],o<a&&0===e.level){s.updateSpells(e);break}u<n&&1===e.level&&s.updateSpells(e);break;case"Ranger":if(0===c.length){s.updateSpells(e);break}var N=Object(r.a)(i,2);a=N[0],n=N[1];var j=s.spellsChosenByLevel(),O=Object(r.a)(j,2);if(o=O[0],u=O[1],o<a&&0===e.level){s.updateSpells(e);break}u<n&&1===e.level&&s.updateSpells(e);break;case"Rogue":break;case"Sorcerer":if(0===c.length){s.updateSpells(e);break}var x=s.spellsChosenByLevel(),w=Object(r.a)(x,2);if(o=w[0],u=w[1],o<4&&0===e.level){s.updateSpells(e);break}u<2&&1===e.level&&s.updateSpells(e),s.props.updateAlertMessage(p);break;case"Warlock":if(0===c.length){s.updateSpells(e);break}var I=s.spellsChosenByLevel(),R=Object(r.a)(I,2);if(o=R[0],u=R[1],o<2&&0===e.level){s.updateSpells(e);break}u<2&&1===e.level&&s.updateSpells(e),s.props.updateAlertMessage(p);break;case"Wizard":if(console.log("Wizard Spell source. "),0===c.length){s.updateSpells(e);break}var B=s.spellsChosenByLevel(),P=Object(r.a)(B,2);if(o=P[0],u=P[1],o<3&&0===e.level){s.updateSpells(e);break}if(u<6&&1===e.level){s.updateSpells(e);break}s.props.updateAlertMessage(p)}},s.setClassSpells=function(e){var t=s.props.classSelected,a=s.props.spellsInfo,n=[];switch(e){case 1:for(var l=0;l<a.length;l++)for(var c=0;c<a[l].classes.length;c++)t.name===a[l].classes[c].name&&a[l].level<=e&&n.push(a[l]);s.setState({classSpells:n}),console.log("state classSpells updated",n);break;default:alert("level of character is invalid in spells creation. ")}},s.addSpell=function(e){var t=s.props.setSelectedSpell;s.spellSource(e,1),t(e)},s.removeSpell=function(e){for(var t=s.props.spellsChosen,a=s.props.setSelectedSpell,n=[],l=0;l<t.length;l++)t[l].name!==e.name&&n.push(t[l]);s.setState({spellsChosen:n}),s.props.setSpells(n),a({})},s.displaySpells=function(){for(var e=s.props.classSelected,t=s.state.classSpells,a=s.state.spellSlots,l=s.props.spellsChosen,c=[],r=function(){var e=i,a=t.filter((function(t){return t.level===e?t:null}));c[e]=a.map((function(e){var t="btn btn-sm btn-block spell-btn ";if(void 0!==e.damage&&void 0!==e.damage.damage_type&&(t+=e.damage.damage_type.index+" "),0===l.length)return t+="btn-secondary ",n.a.createElement("button",{className:t,onClick:function(){return s.addSpell(e)},key:e.name+e.level},e.name);for(var a=0;a<l.length;a++){if(l[a].name===e.name)return t+="btn-primary ",n.a.createElement("button",{className:t,onClick:function(){return s.removeSpell(e)},key:e.name+e.level},e.name)}return t+="btn-secondary ",n.a.createElement("button",{className:t,onClick:function(){return s.addSpell(e)},key:e.name+e.level},e.name)}))},i=0;i<a.length;i++)r();for(var o=[],u=0;u<c.length;u++)if(0===u)"Paladin"===e.name||"Ranger"===e.name?o[u]=n.a.createElement("div",{className:"col-12",key:"no-known-spells"},n.a.createElement("h6",null,"You have no spells to choose from at level 1")):o[u]=n.a.createElement("div",{className:"col-6 spells",key:"cantrips"},n.a.createElement("h6",null,"Cantrips"),c[u]);else{o[u]=n.a.createElement("div",{className:"col-6 spells",key:"spellLevel"+u},n.a.createElement("h6",null,"Spell Level ",u),c[u])}return o},s.state={classSpells:[],spellSlots:[],spellsChosen:[],navigationCategory:0,spellBook:{}},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.spellSlots(),this.setClassSpells(1)}},{key:"setNavigationCategory",value:function(e){this.setState({navigationCategory:e})}},{key:"spellsNavigation",value:function(){for(var e=this,t=(this.props.spellsChosen,this.state.navigationCategory),a=this.state.spellSlots,s=[],l=this.spellsChosenByLevel(),c=function(){var c,i=r;c=l[r],t===r?s.push(n.a.createElement("button",{className:"btn-sm btn spellsNavigationSelected",onClick:function(){},key:r}," Choose: ",a[r]-c)):s.push(n.a.createElement("button",{className:"btn-sm btn spellsNavigation",onClick:function(){return e.setNavigationCategory(i)},key:r},"Choose: ",a[r]-c))},r=0;r<a.length;r++)c();return n.a.createElement("div",{className:"col-12"},s)}},{key:"render",value:function(){var e=this.state.navigationCategory,t=this.displaySpells(),a=this.spellsNavigation();return n.a.createElement("div",{className:"col-12 text-center selection"},a,t[e])}}]),a}(s.Component),g=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={traits:[]},s.getTraits=s.getTraits.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("did it mount?"),this.getTraits(this.props.info)}},{key:"getTraits",value:function(e){var t=this,a="https://www.dnd5eapi.co";if("human"===e.index)console.log("Got to the humans");else for(var s=0;s<e.traits.length;s++)fetch(a+e.traits[s].url).then((function(e){return e.json()})).then((function(e){t.setState((function(t){return{traits:[].concat(Object(d.a)(t.traits),[e])}}))})).catch((function(e){console.log(e+" -- getTraits() -- "+a)}))}},{key:"showTraits",value:function(){return this.state.traits.map((function(e){return n.a.createElement("div",{key:"trait-"+e.name},n.a.createElement("h5",null,e.name),n.a.createElement("p",null,e.desc[0]))}))}},{key:"render",value:function(){var e=this.state.traits,t=this.props.info.name;return n.a.createElement("div",{className:"col-1 info-modal"},n.a.createElement("div",{className:"modal fade",id:"race-"+this.props.info.index,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},t," Traits"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},0!==e.length?this.showTraits():"not loaded"),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))}}]),a}(s.Component);function S(e){var t=e.userValue,a=e.handleChange;return n.a.createElement("div",{className:"col-12 text-center searchBar"},n.a.createElement("label",{className:"search-label",htmlFor:"searchBar"},"Search:"),n.a.createElement("input",{value:t,name:"searchBar",id:"searchBar",onChange:a}))}function y(e){var t=e.champions,a=e.select,s=e.category;console.log(t);var l=[];switch(s){case"races":l=t.map((function(e){return console.log(e),n.a.createElement("div",{className:"card border-dark mb-3 ",key:e.index},n.a.createElement("div",{className:"card-header text-white bg-dark text-center"},n.a.createElement("h4",null,e.name)),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Description:")," ",e.size_description),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Age:")," ",e.age),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Alignment:")," ",e.alignment),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Language:")," ",e.language_desc),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Speed:")," ",e.speed),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a(e.index)}},"Choose ",e.name),n.a.createElement(g,{info:e})))}));break;case"classes":l=t.map((function(e){return n.a.createElement("div",{className:"card border-dark mb-3 ",key:e.index},n.a.createElement("div",{className:"card-header text-white bg-dark text-center"},n.a.createElement("h4",null,e.name)),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Hit die:")," ",e.hit_die),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Starting proficiencies:")," "),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Saving Throws:")),n.a.createElement("p",{className:"card-text"}),n.a.createElement("p",{className:"card-text"}),n.a.createElement("p",{className:"card-text"}),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a(e.index)}},"Choose ",e.name)))}))}return l}var k=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).searchRaces=function(e){var t=s.state.racesInfo;s.setState({word:e});var a=t.map((function(e){return e})),n=[];""!==e?(n=a.filter((function(t){return t.index.includes(e.toLowerCase())})),s.setState({searchResults:n})):(console.log(n),s.setState({searchResults:a}))},s.state={races:{},racesInfo:[],raceSelected:{},searchResults:[],word:""},s.selectRace=s.selectRace.bind(Object(u.a)(s)),s.abilityBonuses=s.abilityBonuses.bind(Object(u.a)(s)),s.traits=s.traits.bind(Object(u.a)(s)),s.getRaces=s.getRaces.bind(Object(u.a)(s)),s.getInfo=s.getInfo.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){m(this.props.raceSelected)&&this.setState({raceSelected:this.props.raceSelected}),m(this.props.races)?this.setState({races:this.props.races,racesInfo:this.props.racesInfo}):this.getRaces(),console.log(this.props)}},{key:"componentWillUnmount",value:function(){this.props.setRaces(this.state.races),this.props.setRacesInfo(this.state.racesInfo)}},{key:"getRaces",value:function(){var e=this;console.log("Getting Races");var t="https://www.dnd5eapi.co/api/";fetch(t+"races").then((function(e){return e.json()})).then((function(t){e.setState({races:t},e.getInfo(t))})).catch((function(e){console.log(e+" -- getRaces() -- "+t)}))}},{key:"getInfo",value:function(e){var t=this;console.log(e);for(var a=0;a<e.results.length;a++)fetch("https://www.dnd5eapi.co"+e.results[a].url).then((function(e){return e.json()})).then((function(e){t.setState((function(t){return{racesInfo:[].concat(Object(d.a)(t.racesInfo),[e])}}))}))}},{key:"selectRace",value:function(e){var t=this,a=this.props.racesInfo,s=this.props.setRace;console.log("are we getting here");for(var n=function(n){if(a[n].index===e){var l=a.filter((function(e){return e.name===a[n].name}));return t.setState({raceSelected:l[0]}),s(l[0]),console.log(l[0]),"break"}},l=0;l<a.length;l++){if("break"===n(l))break}}},{key:"abilityBonuses",value:function(e){for(var t="",a=0;a<e.ability_bonuses.length;a++)t+=e.ability_bonuses[a].ability_score.name+": "+e.ability_bonuses[a].bonus+" ";return t}},{key:"traits",value:function(e){for(var t=[],a="#race-"+e.index,s=0;s<e.traits.length;s++)t.push(n.a.createElement("span",{"data-toggle":"modal","data-target":a,key:e.traits[s].name},e.traits[s].name," "));return t}},{key:"raceCards",value:function(){var e=this,t=this.state.racesInfo.map((function(t){var a=e.abilityBonuses(t),s=e.traits(t);return n.a.createElement("div",{className:"card border-dark mb-3 ",key:t.index},n.a.createElement("div",{className:"card-header text-white bg-dark text-center"},n.a.createElement("h4",null,t.name)),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Description:")," ",t.size_description),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Age:")," ",t.age),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Alignment:")," ",t.alignment),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Language:")," ",t.language_desc),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Traits:")," ",s),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Ability Bonuses:")," ",a),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Speed:")," ",t.speed),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.selectRace(t.index)}},"Choose ",t.name),n.a.createElement(g,{info:t})))}));return t}},{key:"render",value:function(){var e=this,t=this.state.word,a=this.state.searchResults;return n.a.createElement("div",{className:"selection col-12"},n.a.createElement("h2",{className:"selectionTitle text-center"},"Choose your Race"),n.a.createElement(S,{value:t,handleChange:function(t){return e.searchRaces(t.target.value)}}),""!==t?n.a.createElement(y,{champions:a,category:"races",select:function(){return e.selectRace()}}):this.raceCards())}}]),a}(s.Component),C=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).searchClasses=function(e){var t=s.state.classesInfo;s.setState({word:e});var a=t.map((function(e){return e})),n=[];""!==e?(n=a.filter((function(t){return t.index.includes(e.toLowerCase())})),s.setState({searchResults:n})):(console.log(n),s.setState({searchResults:a}))},s.state={classes:{},classesInfo:[],classSelected:{},searchResults:[],word:""},s.selectClass=s.selectClass.bind(Object(u.a)(s)),s.classCards=s.classCards.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){m(this.props.classSelected)&&this.setState({classSelected:this.props.classSelected}),m(this.props.classes)?this.setState({classes:this.props.classes,classesInfo:this.props.classesInfo}):this.getClasses()}},{key:"componentWillUnmount",value:function(){this.props.setClasses(this.state.classes),this.props.setClassesInfo(this.state.classesInfo)}},{key:"getClasses",value:function(){var e=this;console.log("Getting Classes");var t="https://www.dnd5eapi.co/api/";fetch(t+"classes").then((function(e){return e.json()})).then((function(t){e.setState({classes:t},e.getInfo(t))})).catch((function(e){console.log(e+" -- getClasses() -- "+t)}))}},{key:"getInfo",value:function(e){var t=this;console.log(e);for(var a=0;a<e.results.length;a++)fetch("https://www.dnd5eapi.co"+e.results[a].url).then((function(e){return e.json()})).then((function(e){t.setState((function(t){return{classesInfo:[].concat(Object(d.a)(t.classesInfo),[e])}}))}))}},{key:"selectClass",value:function(e){for(var t=this,a=this.props.classesInfo,s=this.props.setClass,n=function(n){if(a[n].index===e){var l=a.filter((function(e){return e.name===a[n].name}));return t.setState({classSelected:l[0]}),s(l[0]),"break"}},l=0;l<a.length;l++){if("break"===n(l))break}}},{key:"classProficiences",value:function(e){var t=0;return e.proficiencies.map((function(a){return t===e.proficiencies.length-1?a.name+". ":(t++,a.name+", ")}))}},{key:"classSavingThrows",value:function(e){return e.saving_throws.map((function(e){return e.name+" "}))}},{key:"classCards",value:function(){var e=this,t=this.state.classesInfo.map((function(t){return n.a.createElement("div",{className:"card border-dark mb-3 ",key:t.index},n.a.createElement("div",{className:"card-header text-white bg-dark text-center"},n.a.createElement("h4",null,t.name)),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Hit die:")," ",t.hit_die),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Starting proficiencies:")," ",e.classProficiences(t)),n.a.createElement("p",{className:"card-text"},n.a.createElement("strong",null,"Saving Throws:")," ",e.classSavingThrows(t)),n.a.createElement("p",{className:"card-text"}),n.a.createElement("p",{className:"card-text"}),n.a.createElement("p",{className:"card-text"}),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.selectClass(t.index)}},"Choose ",t.name)))}));return t}},{key:"render",value:function(){var e=this,t=this.state.word,a=this.state.searchResults;return n.a.createElement("div",{className:"col-12 selection"},n.a.createElement("h2",{className:"selectionTitle text-center"},"Choose your Class"),n.a.createElement(S,{value:t,handleChange:function(t){return e.searchClasses(t.target.value)}}),""!==t?n.a.createElement(y,{champions:a,category:"classes",select:function(){return e.selectClass()}}):this.classCards())}}]),a}(s.Component),E=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={abilityScoresSwitch:!1},s.abilityScoreSwitchy=s.abilityScoreSwitchy.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"abilityScoreSwitchy",value:function(){this.setState((function(e){return{abilityScoresSwitch:!e.abilityScoresSwitch}}))}},{key:"render",value:function(){var e=this,t=this.props.abilityScoresInfo,a=this.props.classSelected,s=this.props.navigation,l=this.props.getScore,c=this.state.abilityScoresSwitch;switch(s){case"Races":return n.a.createElement(k,this.props);case"Classes":return n.a.createElement(C,this.props);case"Proficiencies":return m(a)?n.a.createElement(v,this.props):n.a.createElement("div",{className:"col-12 text-center selection"},"You must choose a class to select your proficiencies.");case"Spells":return m(a)&&void 0!==a.spellcasting?n.a.createElement(b,this.props):n.a.createElement("div",{className:"col-12 text-center selection"},a.name," is not a spell caster.");case"Ability-Scores":var r=t.map((function(e,t){return n.a.createElement("button",{onClick:function(){return l(e.index)},className:"col-4 selectionButtons",key:t},e.full_name)}));return n.a.createElement("div",{className:"col-12 text-center selection"},c?n.a.createElement(f,{handleSubmit:this.props.handleSubmit,abilityScoresSelected:this.props.abilityScoresSelected}):r,n.a.createElement("button",{onClick:function(){return e.abilityScoreSwitchy()},className:"btn btn-primary col-6 align-text-bottom"},c?"Auto fill ":"Manual fill "),n.a.createElement("br",null));default:return n.a.createElement("div",{className:"col-12 text-center selection"},"DEFAULT: It's a broke!")}}}]),a}(s.Component),N=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={toggle:!1},s.toggleNavigation=s.toggleNavigation.bind(Object(u.a)(s)),s.hideButtons=s.hideButtons.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"toggleNavigation",value:function(){this.setState({toggle:!this.state.toggle})}},{key:"hideButtons",value:function(){var e=this,t=document.getElementById("navigation-buttons");setTimeout((function(){var a=setInterval((function(){t.style.opacity||(t.style.opacity=1),t.style.opacity>0?t.style.opacity-=.01:(clearInterval(a),e.toggleNavigation(),t.style.opacity=1)}),1)}),0)}},{key:"navigationButtons",value:function(){var e=this,t=this.props.navigation,a=this.props.navigationCategories,s=this.props.navigate,l=this.props.classSelected;return a.map((function(a,c){if(m(l))return t===a?n.a.createElement("button",{onClick:function(){return e.hideButtons()},type:"button",className:"btn btn-sm btn-block btn-success btn-nav disabled",tabIndex:"-1","aria-disabled":"true",key:c},a):n.a.createElement("button",{onClick:function(){s(a),e.hideButtons()},type:"button",className:"btn btn-sm btn-block btn-dark btn-nav",key:c},a);if(t===a)return n.a.createElement("button",{onClick:function(){return e.hideButtons()},type:"button",className:"btn btn-sm btn-block btn-success btn-nav disabled",tabIndex:"-1","aria-disabled":"true",key:c},a);if("Classes"!==a||"Proficiencies"!==t&&"Spells"!==t)return n.a.createElement("button",{onClick:function(){s(a),e.hideButtons()},type:"button",className:"btn btn-sm btn-block btn-dark btn-nav",key:c},a);switch(t){case"Proficiencies":default:return n.a.createElement("button",{onClick:function(){s(a),e.hideButtons()},type:"button",className:"btn btn-sm btn-block btn-dark btn-nav",key:c},a)}}))}},{key:"render",value:function(){var e=this,t=this.props.champion;return n.a.createElement("div",{className:"col-12 text-center",id:"navigation"},n.a.createElement("div",{className:"col-6",id:"navigation-container",onBlur:function(t){t.currentTarget.contains(t.relatedTarget)||e.hideButtons()}},n.a.createElement("div",{id:"navigation-buttons"},this.state.toggle?this.navigationButtons():null),n.a.createElement("button",{className:"btn btn-sm btn-primary",id:"navigation-toggle",onClick:function(){return e.toggleNavigation()}},t)))}}]),a}(s.Component),j=function(e){var t=n.a.createElement("div",{className:"row",id:"alert"});return e.alertMessage.length>0&&(t=n.a.createElement("div",{className:"row",id:"alert"},n.a.createElement("div",{className:"col text-center"},e.alertMessage))),t},O=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).abilityScoresSetup=function(e){for(var t=e.count,a=e.results,n={},l=0;l<t;l++){n[a[l].index]=0}s.setState({abilityScoresSelected:n})},s.updateAlertMessage=function(e){s.setState({alertMessage:e},s.fadeMessage())},s.fadeMessage=function(){var e=document.getElementById("alert");setTimeout((function(){var t=setInterval((function(){e.style.opacity||(e.style.opacity=1),e.style.opacity>0?e.style.opacity-=.01:clearInterval(t)}),10)}),1700),s.setState({alertMessage:""}),e.style.opacity=1},s.setSelectedSpell=function(e){s.setState({selectedSpell:e})},s.setSpells=function(e){s.setState({spellsChosen:e})},s.updateSpellSlots=function(e){s.setState({spellSlots:e})},s.navigate=function(e){s.setState({navigation:e})},s.getScore=function(e){for(var t=s.props.abilityScores,a=s.state.abilityScoresSelected,n=0;n<t.count;n++)if(t.results[n].index===e){a[e]=s.randomDiceRoll(6),s.setState({abilityScoresSelected:a});break}},s.randomDiceRoll=function(e){for(var t=0,a=0,s=[],n=0;n<5;n++)t=Math.floor(Math.random()*e+1),s.push(t);s.sort(),s.splice(0,2);for(var l=0;l<s.length;l++)a+=s[l];return a},s.startingProficiencies=function(e){s.setState({proficiencies:e})},s.setProficiencies=function(e,t){s.setState({proficiencies:e,proficienciesChosen:t})},s.updateProficiencies=function(e,t){s.setState({proficiencies:e,proficienciesChoices:t})},s.handleSubmit=function(e){for(var t=s.state.abilityScoresSelected,a=[],n=0;n<e.length;n++)e[n].value<3||e[n].value>18?a.push(e[n].name):(t[e[n].name]=parseInt(e[n].value,10),s.setState({abilityScoresSelected:t}));if(a.length>0){for(var l="Ability Scores must not be 0, you currently have 0 in: ",c=0;c<a.length;c++)c<a.length-1?l+=a[c]+", ":l+=a[c];l+=".",s.updateAlertMessage(l)}},s.state={champion:"Champion",abilityScoresSelected:{},navigationCategories:["Races","Classes","Ability-Scores","Proficiencies","Spells"],navigation:"Races",classSelected:{},raceSelected:{},proficiencies:[],proficienciesChoices:[],proficienciesChosen:[],spellsChosen:[],spellSlots:[],selectedSpell:{},alertMessage:"",updateSpellSlots:s.updateSpellSlots,updateAlertMessage:s.updateAlertMessage,setSelectedSpell:s.setSelectedSpell,setProficiencies:s.setProficiencies,startingProficiencies:s.startingProficiencies,updateProficiencies:s.updateProficiencies,setSpells:s.setSpells},s.setRace=s.setRace.bind(Object(u.a)(s)),s.setClass=s.setClass.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.abilityScores;this.abilityScoresSetup(e)}},{key:"componentDidUpdate",value:function(){}},{key:"setRace",value:function(e){this.setState({raceSelected:e})}},{key:"setClass",value:function(e){this.setState({classSelected:e,spellsChosen:[],selectedSpell:{},proficiencies:e.proficiencies,proficienciesChosen:[]})}},{key:"render",value:function(){return n.a.createElement("div",{id:"creation",className:"container-fluid"},n.a.createElement(j,{alertMessage:this.state.alertMessage}),n.a.createElement("div",{className:"row"},n.a.createElement(E,Object.assign({},this.state,this.props,{setRace:this.setRace,setClass:this.setClass,handleSubmit:this.handleSubmit,getScore:this.getScore}))),n.a.createElement("div",{className:"row"},n.a.createElement(N,Object.assign({},this.state,this.props,{navigate:this.navigate}))))}}]),a}(s.Component),x=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).chooseYourChampion=function(){s.setState((function(e){return{ready:!e.ready}}))},s.setRaces=function(e){s.setState({races:e})},s.setRacesInfo=function(e){s.setState({racesInfo:e})},s.setClasses=function(e){s.setState({classes:e})},s.setClassesInfo=function(e){s.setState({classesInfo:e})},s.state={races:{},racesInfo:new Array(0),classes:{},classesInfo:new Array(0),abilityScores:{},abilityScoresInfo:[],spells:{},spellsInfo:[],features:{},featuresInfo:[],levelData:[],ready:!1,enter:!1,setRaces:s.setRaces,setRacesInfo:s.setRacesInfo,setClasses:s.setClasses,setClassesInfo:s.setClassesInfo},s.getInfo=s.getInfo.bind(Object(u.a)(s)),s.getLevelData=s.getLevelData.bind(Object(u.a)(s)),s.chooseYourChampion=s.chooseYourChampion.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({enter:!0})}},{key:"getCharacterInformation",value:function(e){return Promise.all([this.getClasses(e),this.getAbilityScores(e),this.getSpells(e),this.getFeatures(e)]).then((function(e){var t=Object(r.a)(e,4);return{classes:t[0],abilityScores:t[1],spells:t[2],features:t[3]}}))}},{key:"getCharacterData",value:function(e,t,a,s){var n=this;Promise.all([this.getInfo(e,"classes"),this.getLevelData(e,1),this.getInfo(t,"ability-scores"),this.getInfo(a,"spells"),this.getInfo(s,"features")]).then((function(){n.setState({enter:!0})}))}},{key:"getClasses",value:function(e){var t=this;return fetch(e+"classes").then((function(e){return e.json()})).then((function(e){return t.setState({classes:e}),e})).catch((function(t){console.log(t+" -- getClasses() -- "+e)}))}},{key:"getAbilityScores",value:function(e){var t=this;return fetch(e+"ability-scores").then((function(e){return e.json()})).then((function(e){return t.setState({abilityScores:e}),e})).catch((function(t){console.log(t+" -- getAbilityScores() -- "+e)}))}},{key:"getSpells",value:function(e){var t=this;return fetch(e+"spells").then((function(e){return e.json()})).then((function(e){return t.setState({spells:e}),e})).catch((function(t){console.log(t+" -- getSpells() -- "+e)}))}},{key:"getFeatures",value:function(e){var t=this;return fetch(e+"features").then((function(e){return e.json()})).then((function(e){return t.setState({features:e}),e})).catch((function(t){console.log(t+" -- getFeatures() -- "+e)}))}},{key:"getLevelData",value:function(e,t){for(var a=[],s=0;s<e.results.length;s++)Promise.resolve(fetch("https://www.dnd5eapi.co/api/classes/"+e.results[s].index+"/levels/"+t)).then((function(e){return e.json()})).then((function(e){a.push(e)}));this.setState({levelData:a})}},{key:"getInfo",value:function(e,t){for(var a=[],s=0;s<e.results.length;s++)Promise.resolve(fetch("https://www.dnd5eapi.co"+e.results[s].url)).then((function(e){return e.json()})).then((function(e){a.push(e)}));switch(t){case"classes":this.setState({classesInfo:a});break;case"ability-scores":this.setState({abilityScoresInfo:a});break;case"spells":this.setState({spellsInfo:a});break;case"features":this.setState({featuresInfo:a})}}},{key:"render",value:function(){return this.state.ready?n.a.createElement(O,this.state):n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 text-center"},n.a.createElement("h1",null,"Welcome"),this.state.enter?n.a.createElement("button",{onClick:this.chooseYourChampion,className:"btn btn-lg btn-primary"},"Begin your journey!"):n.a.createElement("p",null,"...Loading API"))))}}]),a}(s.Component);a(17),a(18),a(19),a(20);c.a.render(n.a.createElement(x,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.14d3251d.chunk.js.map